<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>CSV exercise</title>
	<style>
		table, tr, td {
			border: 1px solid black
		}
		svg {
			padding-top: 4px; 
		}
	</style>
</head>
<body>
	<table id="tabID">
		<tr>
			<th>Name</th>
			<th>Score</th>
			<th>Graph</th>
		</tr>
	</table>
</body>
<script>

	var tableID = document.getElementById('tabID');
	var peopleGrades = [
		['Vasko',100],
		['Petar',80],
		['Someone',59],
		['Test Name',23],
		['Dobri',60],
		['Asd :}',20]

	];

	for (var i = 0 ; i < peopleGrades.length; i++) {
		var row = tableID.insertRow(i+1);
		var cell1 = row.insertCell(0);
		var cell2 = row.insertCell(1);
		var cell3 = row.insertCell(2);
		cell1.innerHTML = peopleGrades[i][0];
		cell2.innerHTML = peopleGrades[i][1] + '%';
		cell3.innerHTML = drawGraph(peopleGrades[i][1]);
	};

	function drawGraph(userScore) {
		var svgCode = '<svg width="200" height="20">';
		var x = 2 * userScore;
		var anim = '<animate attributeName="width" attributeType="XML" begin="0s" dur="2s" from="0" to="' + x + '" repeatCount="indefinite" />';
		if (x >= 120) {
			svgCode += '<rect width="' + x + '" height="22" fill="green">' + anim + '</rect></svg>';
		} else {
			svgCode += '<rect width="' + x + '" height="22" fill="red">' + anim + '/rect></svg>';
		}
		return svgCode;
	}

</script>




</html>